<!doctype html><html lang=en><head><meta charset=utf-8><title>Debugger | Node.js v6.4.0 Documentation</title><link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic" rel=stylesheet><link href=assets/style.css rel=stylesheet><link href=assets/sh.css rel=stylesheet><link href=https://nodejs.org/api/debugger.html rel=canonical></head><body class="alt apidoc" id=api-section-debugger><div class=clearfix id=content><div class=interior id=column2><div class=interior id=intro><a href=/ title="Go back to the home page">Node.js</a></div><ul><li><a href=documentation.html class=nav-documentation>About these Docs</a></li><li><a href=synopsis.html class=nav-synopsis>Usage &amp; Example</a></li></ul><div class=line></div><ul><li><a href=assert.html class=nav-assert>Assertion Testing</a></li><li><a href=buffer.html class=nav-buffer>Buffer</a></li><li><a href=addons.html class=nav-addons>C/C++ Addons</a></li><li><a href=child_process.html class=nav-child_process>Child Processes</a></li><li><a href=cluster.html class=nav-cluster>Cluster</a></li><li><a href=cli.html class=nav-cli>Command Line Options</a></li><li><a href=console.html class=nav-console>Console</a></li><li><a href=crypto.html class=nav-crypto>Crypto</a></li><li><a href=debugger.html class="nav-debugger active">Debugger</a></li><li><a href=dns.html class=nav-dns>DNS</a></li><li><a href=domain.html class=nav-domain>Domain</a></li><li><a href=errors.html class=nav-errors>Errors</a></li><li><a href=events.html class=nav-events>Events</a></li><li><a href=fs.html class=nav-fs>File System</a></li><li><a href=globals.html class=nav-globals>Globals</a></li><li><a href=http.html class=nav-http>HTTP</a></li><li><a href=https.html class=nav-https>HTTPS</a></li><li><a href=modules.html class=nav-modules>Modules</a></li><li><a href=net.html class=nav-net>Net</a></li><li><a href=os.html class=nav-os>OS</a></li><li><a href=path.html class=nav-path>Path</a></li><li><a href=process.html class=nav-process>Process</a></li><li><a href=punycode.html class=nav-punycode>Punycode</a></li><li><a href=querystring.html class=nav-querystring>Query Strings</a></li><li><a href=readline.html class=nav-readline>Readline</a></li><li><a href=repl.html class=nav-repl>REPL</a></li><li><a href=stream.html class=nav-stream>Stream</a></li><li><a href=string_decoder.html class=nav-string_decoder>String Decoder</a></li><li><a href=timers.html class=nav-timers>Timers</a></li><li><a href=tls.html class=nav-tls>TLS/SSL</a></li><li><a href=tty.html class=nav-tty>TTY</a></li><li><a href=dgram.html class=nav-dgram>UDP/Datagram</a></li><li><a href=url.html class=nav-url>URL</a></li><li><a href=util.html class=nav-util>Utilities</a></li><li><a href=v8.html class=nav-v8>V8</a></li><li><a href=vm.html class=nav-vm>VM</a></li><li><a href=zlib.html class=nav-zlib>ZLIB</a></li></ul><div class=line></div><ul><li><a href=https://github.com/nodejs/node class=nav-https-github-com-nodejs-node>GitHub Repo &amp; Issue Tracker</a></li><li><a href=http://groups.google.com/group/nodejs class=nav-http-groups-google-com-group-nodejs>Mailing List</a></li></ul></div><div class=interior id=column1 data-id=debugger><header><h1>Node.js v6.4.0 Documentation</h1><div id=gtoc><p><a href=index.html name=toc>Index</a> | <a href=all.html>View on single page</a> | <a href=debugger.json>View as JSON</a></p></div><hr></header><div id=toc><h2>Table of Contents</h2><ul><li><a href=#debugger_debugger>Debugger</a><ul><li><a href=#debugger_watchers>Watchers</a></li><li><a href=#debugger_command_reference>Command reference</a><ul><li><a href=#debugger_stepping>Stepping</a></li><li><a href=#debugger_breakpoints>Breakpoints</a></li><li><a href=#debugger_information>Information</a></li><li><a href=#debugger_execution_control>Execution control</a></li><li><a href=#debugger_various>Various</a></li></ul></li><li><a href=#debugger_advanced_usage>Advanced Usage</a></li><li><a href=#debugger_v8_inspector_integration_for_node_js>V8 Inspector Integration for Node.js</a></li></ul></li></ul></div><div id=apicontent><h1>Debugger<span><a href=#debugger_debugger class=mark id=debugger_debugger>#</a></span></h1><pre class="api_stability api_stability_2">Stability: 2 - Stable</pre><!-- type=misc --><p>Node.js includes a full-featured out-of-process debugging utility accessible via a simple <a href=https://github.com/v8/v8/wiki/Debugging-Protocol>TCP-based protocol</a> and built-in debugging client. To use it, start Node.js with the <code>debug</code> argument followed by the path to the script to debug; a prompt will be displayed indicating successful launch of the debugger:</p><pre><code class=lang-txt>$ node debug myscript.js
&lt; debugger listening on port 5858
connecting... ok
break in /home/indutny/Code/git/indutny/myscript.js:1
  1 x = 5;
  2 setTimeout(() =&gt; {
  3   debugger;
debug&gt;
</code></pre><p>Node.js&#39;s debugger client is not a full-featured debugger, but simple step and inspection are possible.</p><p>Inserting the statement <code>debugger;</code> into the source code of a script will enable a breakpoint at that position in the code:</p><pre><code class=lang-js>// myscript.js
x = 5;
setTimeout(() =&gt; {
  debugger;
  console.log(&#39;world&#39;);
}, 1000);
console.log(&#39;hello&#39;);
</code></pre><p>Once the debugger is run, a breakpoint will occur at line 4:</p><pre><code class=lang-txt>$ node debug myscript.js
&lt; debugger listening on port 5858
connecting... ok
break in /home/indutny/Code/git/indutny/myscript.js:1
  1 x = 5;
  2 setTimeout(() =&gt; {
  3   debugger;
debug&gt; cont
&lt; hello
break in /home/indutny/Code/git/indutny/myscript.js:3
  1 x = 5;
  2 setTimeout(() =&gt; {
  3   debugger;
  4   console.log(&#39;world&#39;);
  5 }, 1000);
debug&gt; next
break in /home/indutny/Code/git/indutny/myscript.js:4
  2 setTimeout(() =&gt; {
  3   debugger;
  4   console.log(&#39;world&#39;);
  5 }, 1000);
  6 console.log(&#39;hello&#39;);
debug&gt; repl
Press Ctrl + C to leave debug repl
&gt; x
5
&gt; 2+2
4
debug&gt; next
&lt; world
break in /home/indutny/Code/git/indutny/myscript.js:5
  3   debugger;
  4   console.log(&#39;world&#39;);
  5 }, 1000);
  6 console.log(&#39;hello&#39;);
  7
debug&gt; quit
</code></pre><p>The <code>repl</code> command allows code to be evaluated remotely. The <code>next</code> command steps to the next line. Type <code>help</code> to see what other commands are available.</p><p>Pressing <code>enter</code> without typing a command will repeat the previous debugger command.</p><h2>Watchers<span><a href=#debugger_watchers class=mark id=debugger_watchers>#</a></span></h2><p>It is possible to watch expression and variable values while debugging. On every breakpoint, each expression from the watchers list will be evaluated in the current context and displayed immediately before the breakpoint&#39;s source code listing.</p><p>To begin watching an expression, type <code>watch(&#39;my_expression&#39;)</code>. The command <code>watchers</code> will print the active watchers. To remove a watcher, type <code>unwatch(&#39;my_expression&#39;)</code>.</p><h2>Command reference<span><a href=#debugger_command_reference class=mark id=debugger_command_reference>#</a></span></h2><h3>Stepping<span><a href=#debugger_stepping class=mark id=debugger_stepping>#</a></span></h3><div class=signature><ul><li><code>cont</code>, <code>c</code> - Continue execution</li><li><code>next</code>, <code>n</code> - Step next</li><li><code>step</code>, <code>s</code> - Step in</li><li><code>out</code>, <code>o</code> - Step out</li><li><code>pause</code> - Pause running code (like pause button in Developer Tools)</li></ul></div><h3>Breakpoints<span><a href=#debugger_breakpoints class=mark id=debugger_breakpoints>#</a></span></h3><div class=signature><ul><li><code>setBreakpoint()</code>, <code>sb()</code> - Set breakpoint on current line</li><li><code>setBreakpoint(line)</code>, <code>sb(line)</code> - Set breakpoint on specific line</li><li><code>setBreakpoint(&#39;fn()&#39;)</code>, <code>sb(...)</code> - Set breakpoint on a first statement in functions body</li><li><code>setBreakpoint(&#39;script.js&#39;, 1)</code>, <code>sb(...)</code> - Set breakpoint on first line of script.js</li><li><code>clearBreakpoint(&#39;script.js&#39;, 1)</code>, <code>cb(...)</code> - Clear breakpoint in script.js on line 1</li></ul></div><p>It is also possible to set a breakpoint in a file (module) that isn&#39;t loaded yet:</p><pre><code class=lang-txt>$ ./node debug test/fixtures/break-in-module/main.js
&lt; debugger listening on port 5858
connecting to port 5858... ok
break in test/fixtures/break-in-module/main.js:1
  1 var mod = require(&#39;./mod.js&#39;);
  2 mod.hello();
  3 mod.hello();
debug&gt; setBreakpoint(&#39;mod.js&#39;, 23)
Warning: script &#39;mod.js&#39; was not loaded yet.
  1 var mod = require(&#39;./mod.js&#39;);
  2 mod.hello();
  3 mod.hello();
debug&gt; c
break in test/fixtures/break-in-module/mod.js:23
 21
 22 exports.hello = () =&gt; {
 23   return &#39;hello from module&#39;;
 24 };
 25
debug&gt;
</code></pre><h3>Information<span><a href=#debugger_information class=mark id=debugger_information>#</a></span></h3><div class=signature><ul><li><code>backtrace</code>, <code>bt</code> - Print backtrace of current execution frame</li><li><code>list(5)</code> - List scripts source code with 5 line context (5 lines before and after)</li><li><code>watch(expr)</code> - Add expression to watch list</li><li><code>unwatch(expr)</code> - Remove expression from watch list</li><li><code>watchers</code> - List all watchers and their values (automatically listed on each breakpoint)</li><li><code>repl</code> - Open debugger&#39;s repl for evaluation in debugging script&#39;s context</li><li><code>exec expr</code> - Execute an expression in debugging script&#39;s context</li></ul></div><h3>Execution control<span><a href=#debugger_execution_control class=mark id=debugger_execution_control>#</a></span></h3><div class=signature><ul><li><code>run</code> - Run script (automatically runs on debugger&#39;s start)</li><li><code>restart</code> - Restart script</li><li><code>kill</code> - Kill script</li></ul></div><h3>Various<span><a href=#debugger_various class=mark id=debugger_various>#</a></span></h3><div class=signature><ul><li><code>scripts</code> - List all loaded scripts</li><li><code>version</code> - Display V8&#39;s version</li></ul></div><h2>Advanced Usage<span><a href=#debugger_advanced_usage class=mark id=debugger_advanced_usage>#</a></span></h2><p>An alternative way of enabling and accessing the debugger is to start Node.js with the <code>--debug</code> command-line flag or by signaling an existing Node.js process with <code>SIGUSR1</code>.</p><p>Once a process has been set in debug mode this way, it can be inspected using the Node.js debugger by either connecting to the <code>pid</code> of the running process or via URI reference to the listening debugger:</p><ul><li><code>node debug -p &lt;pid&gt;</code> - Connects to the process via the <code>pid</code></li><li><code>node debug &lt;URI&gt;</code> - Connects to the process via the URI such as localhost:5858</li></ul><h2>V8 Inspector Integration for Node.js<span><a href=#debugger_v8_inspector_integration_for_node_js class=mark id=debugger_v8_inspector_integration_for_node_js>#</a></span></h2><p><strong>NOTE: This is an experimental feature.</strong></p><p>V8 Inspector integration allows attaching Chrome DevTools to Node.js instances for debugging and profiling.</p><p>V8 Inspector can be enabled by passing the <code>--inspect</code> flag when starting a Node.js application. It is also possible to supply a custom port with that flag, e.g. <code>--inspect=9222</code> will accept DevTools connections on port 9222.</p><p>To break on the first line of the application code, provide the <code>--debug-brk</code> flag in addition to <code>--inspect</code>.</p></div></div></div><script src=assets/sh_main.js></script><script src=assets/sh_javascript.min.js></script><script>highlight(void 0,void 0,"pre")</script></body></html>